// We require the Hardhat Runtime Environment explicitly here. This is optional
// but useful for running the script in a standalone fashion through `node <script>`.
//
// When running the script with `npx hardhat run <script>` you'll find the Hardhat
// Runtime Environment's members available in the global scope.
import { ethers } from "hardhat";

const L1_STARKNET_CORE = '0xde29d060D45901Fb19ED6C6e959EB22d8626708e';
const gatewayBytecode =
  "0x60806040523480156200001157600080fd5b50604051620048a5380380620048a583398181016040528101906200003791906200025f565b6040518060400160405280600f81526020017f47617465776179204552433131353500000000000000000000000000000000008152506200007e816200017c60201b60201c565b50600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415620000f2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620000e990620002c7565b60405180910390fd5b81600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050620003fc565b80600290805190602001906200019492919062000198565b5050565b828054620001a6906200032e565b90600052602060002090601f016020900481019282620001ca576000855562000216565b82601f10620001e557805160ff191683800117855562000216565b8280016001018555821562000216579182015b8281111562000215578251825591602001919060010190620001f8565b5b50905062000225919062000229565b5090565b5b80821115620002445760008160009055506001016200022a565b5090565b6000815190506200025981620003e2565b92915050565b600080604083850312156200027357600080fd5b6000620002838582860162000248565b9250506020620002968582860162000248565b9150509250929050565b6000620002af602583620002e9565b9150620002bc8262000393565b604082019050919050565b60006020820190508181036000830152620002e281620002a0565b9050919050565b600082825260208201905092915050565b600062000307826200030e565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600060028204905060018216806200034757607f821691505b602082108114156200035e576200035d62000364565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f476174657761792f696e76616c69642d737461726b6e65742d636f72652d616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b620003ed81620002fa565b8114620003f957600080fd5b50565b614499806200040c6000396000f3fe608060405234801561001057600080fd5b506004361061010a5760003560e01c80633986c2d9116100a2578063a22cb46511610071578063a22cb465146102dd578063aa5afdc4146102f9578063c5cf2d5e14610315578063e985e9c514610333578063f242432a146103635761010a565b80633986c2d91461025557806339e730ab1461027157806341b3a0a11461028f5780634e1273f4146102ad5761010a565b80631814104b116100de5780631814104b146101cf5780632eb2c2d6146101eb5780633422057814610207578063378eb3b3146102255761010a565b8062fdd58e1461010f57806301ffc9a71461013f57806308b54d701461016f5780630e89341c1461019f575b600080fd5b61012960048036038101906101249190612e9a565b61037f565b604051610136919061399a565b60405180910390f35b61015960048036038101906101549190612f6b565b610448565b6040516101669190613747565b60405180910390f35b61018960048036038101906101849190612fbd565b61052a565b6040516101969190613762565b60405180910390f35b6101b960048036038101906101b4919061318a565b6108c3565b6040516101c69190613798565b60405180910390f35b6101e960048036038101906101e491906130f7565b610957565b005b61020560048036038101906102009190612d10565b610dbe565b005b61020f610e5f565b60405161021c9190613611565b60405180910390f35b61023f600480360381019061023a9190612fbd565b610e89565b60405161024c9190613747565b60405180910390f35b61026f600480360381019061026a9190613050565b6112cf565b005b61027961175c565b604051610286919061377d565b60405180910390f35b610297611782565b6040516102a4919061399a565b60405180910390f35b6102c760048036038101906102c29190612ed6565b611788565b6040516102d491906136ee565b60405180910390f35b6102f760048036038101906102f29190612e5e565b611939565b005b610313600480360381019061030e919061318a565b61194f565b005b61031d611a2e565b60405161032a9190613611565b60405180910390f35b61034d60048036038101906103489190612cd4565b611a54565b60405161035a9190613747565b60405180910390f35b61037d60048036038101906103789190612dcf565b611ae8565b005b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614156103f0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103e79061381a565b60405180910390fd5b60008083815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b60007fd9b67a26000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061051357507f0e89341c000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b80610523575061052282611b89565b5b9050919050565b6000806002845161053b9190613bcc565b60046105479190613b76565b90506000808267ffffffffffffffff81111561058c577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280602002602001820160405280156105ba5781602001602082028036833780820191505090505b5090506001816000815181106105f9577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505061060e33611bf3565b81600181518110610648577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505061065d88611bf3565b81600281518110610697577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505086816003815181106106de577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250506000600490505b83811015610877578651831061073c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107339061383a565b60405180910390fd5b868381518110610775577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101518282815181106107b6577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505080806107cd90613d91565b915050858381518110610809577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001015182828151811061084a577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050828061086190613d91565b935050808061086f90613d91565b9150506106f1565b50600060045461088630611bf3565b83518460405160200161089c94939291906135c7565b60405160208183030381529060405280519060200120905080945050505050949350505050565b6060600280546108d290613d2e565b80601f01602080910402602001604051908101604052809291908181526020018280546108fe90613d2e565b801561094b5780601f106109205761010080835404028352916020019161094b565b820191906000526020600020905b81548152906001019060200180831161092e57829003601f168201915b50505050509050919050565b805182511461099b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610992906138fa565b60405180910390fd5b6000600283516109ab9190613bcc565b60046109b79190613b76565b90506000808267ffffffffffffffff8111156109fc577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051908082528060200260200182016040528015610a2a5781602001602082028036833780820191505090505b509050600181600081518110610a69577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050610a7e33611bf3565b81600181518110610ab8577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050610acd87611bf3565b81600281518110610b07577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250508581600381518110610b4e577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250506000600490505b83811015610ce75785518310610bac576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ba39061383a565b60405180910390fd5b858381518110610be5577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151828281518110610c26577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250508080610c3d90613d91565b915050848381518110610c79577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151828281518110610cba577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250508280610cd190613d91565b9350508080610cdf90613d91565b915050610b61565b50600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16632c9dd5c0600454836040518363ffffffff1660e01b8152600401610d479291906139b5565b602060405180830381600087803b158015610d6157600080fd5b505af1158015610d75573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d999190612f42565b50610db533868660405180602001604052806000815250611c13565b50505050505050565b610dc6611e7d565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161480610e0c5750610e0b85610e06611e7d565b611a54565b5b610e4b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e42906138ba565b60405180910390fd5b610e588585858585611e85565b5050505050565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60008060028451610e9a9190613bcc565b6004610ea69190613b76565b90506000808267ffffffffffffffff811115610eeb577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051908082528060200260200182016040528015610f195781602001602082028036833780820191505090505b509050600181600081518110610f58577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050610f6d33611bf3565b81600181518110610fa7577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050610fbc88611bf3565b81600281518110610ff6577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050868160038151811061103d577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250506000600490505b838110156111d6578651831061109b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110929061383a565b60405180910390fd5b8683815181106110d4577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151828281518110611115577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050808061112c90613d91565b915050858381518110611168577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101518282815181106111a9577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505082806111c090613d91565b93505080806111ce90613d91565b915050611050565b5060006004546111e530611bf3565b8351846040516020016111fb94939291906135c7565b6040516020818303038152906040528051906020012090506000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a46efaf3836040518263ffffffff1660e01b81526004016112709190613762565b60206040518083038186803b15801561128857600080fd5b505afa15801561129c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112c091906131b3565b11945050505050949350505050565b8151835114611313576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161130a906138fa565b60405180910390fd5b6000600284516113239190613bcc565b600561132f9190613b76565b90506000806004905060008367ffffffffffffffff81111561137a577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280602002602001820160405280156113a85781602001602082028036833780820191505090505b50905084816000815181106113e6577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250506113fb89611bf3565b81600181518110611435577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050878160028151811061147c577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250508651816003815181106114c4577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250505b865183101561158157868381518110611513577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151818381518110611554577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050828061156b90613d91565b935050818061157990613d91565b9250506114d1565b6000925085518183815181106115c0577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250505b855183101561167d5781806115e190613d91565b92505085838151811061161d577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001015181838151811061165e577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050828061167590613d91565b9350506115cd565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16633e3aa6c56004547f03d7e9aabaee46b2e84062eb3bca33a0c08e1142b329c095d47ec3d6af1adbc6846040518463ffffffff1660e01b81526004016116fe93929190613a0e565b602060405180830381600087803b15801561171857600080fd5b505af115801561172c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117509190612f42565b50505050505050505050565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60045481565b606081518351146117ce576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117c59061393a565b60405180910390fd5b6000835167ffffffffffffffff811115611811577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60405190808252806020026020018201604052801561183f5781602001602082028036833780820191505090505b50905060005b845181101561192e576118d885828151811061188a577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101518583815181106118cb577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001015161037f565b828281518110611911577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250508061192790613d91565b9050611845565b508091505092915050565b61194b611944611e7d565b83836121e5565b5050565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146119df576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119d69061385a565b60405180910390fd5b600060045414611a24576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a1b906137fa565b60405180910390fd5b8060048190555050565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b611af0611e7d565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161480611b365750611b3585611b30611e7d565b611a54565b5b611b75576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611b6c9061387a565b60405180910390fd5b611b828585858585612352565b5050505050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b60008173ffffffffffffffffffffffffffffffffffffffff169050919050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161415611c83576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c7a9061397a565b60405180910390fd5b8151835114611cc7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611cbe9061395a565b60405180910390fd5b6000611cd1611e7d565b9050611ce2816000878787876125d4565b60005b8451811015611de757838181518110611d27577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151600080878481518110611d6b577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611dcd9190613b76565b925050819055508080611ddf90613d91565b915050611ce5565b508473ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8787604051611e5f929190613710565b60405180910390a4611e76816000878787876125dc565b5050505050565b600033905090565b8151835114611ec9576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ec09061395a565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161415611f39576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f309061389a565b60405180910390fd5b6000611f43611e7d565b9050611f538187878787876125d4565b60005b8451811015612150576000858281518110611f9a577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001015190506000858381518110611fdf577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101519050600080600084815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015612080576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612077906138da565b60405180910390fd5b81810360008085815260200190815260200160002060008c73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508160008085815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546121359190613b76565b925050819055505050508061214990613d91565b9050611f56565b508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb87876040516121c7929190613710565b60405180910390a46121dd8187878787876125dc565b505050505050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415612254576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161224b9061391a565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31836040516123459190613747565b60405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614156123c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016123b99061389a565b60405180910390fd5b60006123cc611e7d565b90506123ec8187876123dd886127c3565b6123e6886127c3565b876125d4565b600080600086815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905083811015612483576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161247a906138da565b60405180910390fd5b83810360008087815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508360008087815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546125389190613b76565b925050819055508573ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f6288886040516125b59291906139e5565b60405180910390a46125cb828888888888612889565b50505050505050565b505050505050565b6125fb8473ffffffffffffffffffffffffffffffffffffffff16612a70565b156127bb578373ffffffffffffffffffffffffffffffffffffffff1663bc197c8187878686866040518663ffffffff1660e01b815260040161264195949392919061362c565b602060405180830381600087803b15801561265b57600080fd5b505af192505050801561268c57506040513d601f19601f820116820180604052508101906126899190612f94565b60015b61273257612698613e71565b806308c379a014156126f557506126ad61432c565b806126b857506126f7565b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016126ec9190613798565b60405180910390fd5b505b6040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612729906137ba565b60405180910390fd5b63bc197c8160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916146127b9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016127b0906137da565b60405180910390fd5b505b505050505050565b60606000600167ffffffffffffffff811115612808577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280602002602001820160405280156128365781602001602082028036833780820191505090505b5090508281600081518110612874577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505080915050919050565b6128a88473ffffffffffffffffffffffffffffffffffffffff16612a70565b15612a68578373ffffffffffffffffffffffffffffffffffffffff1663f23a6e6187878686866040518663ffffffff1660e01b81526004016128ee959493929190613694565b602060405180830381600087803b15801561290857600080fd5b505af192505050801561293957506040513d601f19601f820116820180604052508101906129369190612f94565b60015b6129df57612945613e71565b806308c379a014156129a2575061295a61432c565b8061296557506129a4565b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016129999190613798565b60405180910390fd5b505b6040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016129d6906137ba565b60405180910390fd5b63f23a6e6160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614612a66576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612a5d906137da565b60405180910390fd5b505b505050505050565b600080823b905060008111915050919050565b6000612a96612a9184613a71565b613a4c565b90508083825260208201905082856020860282011115612ab557600080fd5b60005b85811015612ae55781612acb8882612b99565b845260208401935060208301925050600181019050612ab8565b5050509392505050565b6000612b02612afd84613a9d565b613a4c565b90508083825260208201905082856020860282011115612b2157600080fd5b60005b85811015612b515781612b378882612caa565b845260208401935060208301925050600181019050612b24565b5050509392505050565b6000612b6e612b6984613ac9565b613a4c565b905082815260208101848484011115612b8657600080fd5b612b91848285613cec565b509392505050565b600081359050612ba8816143c2565b92915050565b600082601f830112612bbf57600080fd5b8135612bcf848260208601612a83565b91505092915050565b600082601f830112612be957600080fd5b8135612bf9848260208601612aef565b91505092915050565b600081359050612c11816143d9565b92915050565b600081519050612c26816143f0565b92915050565b600081359050612c3b81614407565b92915050565b600081519050612c5081614407565b92915050565b600082601f830112612c6757600080fd5b8135612c77848260208601612b5b565b91505092915050565b600081359050612c8f8161441e565b92915050565b600081359050612ca481614435565b92915050565b600081359050612cb98161444c565b92915050565b600081519050612cce8161444c565b92915050565b60008060408385031215612ce757600080fd5b6000612cf585828601612b99565b9250506020612d0685828601612b99565b9150509250929050565b600080600080600060a08688031215612d2857600080fd5b6000612d3688828901612b99565b9550506020612d4788828901612b99565b945050604086013567ffffffffffffffff811115612d6457600080fd5b612d7088828901612bd8565b935050606086013567ffffffffffffffff811115612d8d57600080fd5b612d9988828901612bd8565b925050608086013567ffffffffffffffff811115612db657600080fd5b612dc288828901612c56565b9150509295509295909350565b600080600080600060a08688031215612de757600080fd5b6000612df588828901612b99565b9550506020612e0688828901612b99565b9450506040612e1788828901612caa565b9350506060612e2888828901612caa565b925050608086013567ffffffffffffffff811115612e4557600080fd5b612e5188828901612c56565b9150509295509295909350565b60008060408385031215612e7157600080fd5b6000612e7f85828601612b99565b9250506020612e9085828601612c02565b9150509250929050565b60008060408385031215612ead57600080fd5b6000612ebb85828601612b99565b9250506020612ecc85828601612caa565b9150509250929050565b60008060408385031215612ee957600080fd5b600083013567ffffffffffffffff811115612f0357600080fd5b612f0f85828601612bae565b925050602083013567ffffffffffffffff811115612f2c57600080fd5b612f3885828601612bd8565b9150509250929050565b600060208284031215612f5457600080fd5b6000612f6284828501612c17565b91505092915050565b600060208284031215612f7d57600080fd5b6000612f8b84828501612c2c565b91505092915050565b600060208284031215612fa657600080fd5b6000612fb484828501612c41565b91505092915050565b60008060008060808587031215612fd357600080fd5b6000612fe187828801612c80565b9450506020612ff287828801612caa565b935050604085013567ffffffffffffffff81111561300f57600080fd5b61301b87828801612bd8565b925050606085013567ffffffffffffffff81111561303857600080fd5b61304487828801612bd8565b91505092959194509250565b600080600080600060a0868803121561306857600080fd5b600061307688828901612c80565b955050602061308788828901612caa565b945050604086013567ffffffffffffffff8111156130a457600080fd5b6130b088828901612bd8565b935050606086013567ffffffffffffffff8111156130cd57600080fd5b6130d988828901612bd8565b92505060806130ea88828901612caa565b9150509295509295909350565b6000806000806080858703121561310d57600080fd5b600061311b87828801612c95565b945050602061312c87828801612caa565b935050604085013567ffffffffffffffff81111561314957600080fd5b61315587828801612bd8565b925050606085013567ffffffffffffffff81111561317257600080fd5b61317e87828801612bd8565b91505092959194509250565b60006020828403121561319c57600080fd5b60006131aa84828501612caa565b91505092915050565b6000602082840312156131c557600080fd5b60006131d384828501612cbf565b91505092915050565b60006131e88383613583565b60208301905092915050565b600061320083836135a1565b60208301905092915050565b61321581613c26565b82525050565b600061322682613b0a565b6132308185613b38565b935061323b83613afa565b8060005b8381101561326c57815161325388826131dc565b975061325e83613b2b565b92505060018101905061323f565b5085935050505092915050565b600061328482613b0a565b61328e8185613b49565b935061329983613afa565b8060005b838110156132ca5781516132b188826131f4565b97506132bc83613b2b565b92505060018101905061329d565b5085935050505092915050565b6132e081613c38565b82525050565b6132ef81613c44565b82525050565b600061330082613b15565b61330a8185613b54565b935061331a818560208601613cfb565b61332381613e93565b840191505092915050565b61333781613cc8565b82525050565b600061334882613b20565b6133528185613b65565b9350613362818560208601613cfb565b61336b81613e93565b840191505092915050565b6000613383603483613b65565b915061338e82613eb1565b604082019050919050565b60006133a6602883613b65565b91506133b182613f00565b604082019050919050565b60006133c9602483613b65565b91506133d482613f4f565b604082019050919050565b60006133ec602b83613b65565b91506133f782613f9e565b604082019050919050565b600061340f602283613b65565b915061341a82613fed565b604082019050919050565b6000613432601483613b65565b915061343d8261403c565b602082019050919050565b6000613455602983613b65565b915061346082614065565b604082019050919050565b6000613478602583613b65565b9150613483826140b4565b604082019050919050565b600061349b603283613b65565b91506134a682614103565b604082019050919050565b60006134be602a83613b65565b91506134c982614152565b604082019050919050565b60006134e1603e83613b65565b91506134ec826141a1565b604082019050919050565b6000613504602983613b65565b915061350f826141f0565b604082019050919050565b6000613527602983613b65565b91506135328261423f565b604082019050919050565b600061354a602883613b65565b91506135558261428e565b604082019050919050565b600061356d602183613b65565b9150613578826142dd565b604082019050919050565b61358c81613cbe565b82525050565b61359b81613cbe565b82525050565b6135aa81613cbe565b82525050565b6135c16135bc82613cbe565b613dda565b82525050565b60006135d382876135b0565b6020820191506135e382866135b0565b6020820191506135f382856135b0565b6020820191506136038284613279565b915081905095945050505050565b6000602082019050613626600083018461320c565b92915050565b600060a082019050613641600083018861320c565b61364e602083018761320c565b8181036040830152613660818661321b565b90508181036060830152613674818561321b565b9050818103608083015261368881846132f5565b90509695505050505050565b600060a0820190506136a9600083018861320c565b6136b6602083018761320c565b6136c36040830186613592565b6136d06060830185613592565b81810360808301526136e281846132f5565b90509695505050505050565b60006020820190508181036000830152613708818461321b565b905092915050565b6000604082019050818103600083015261372a818561321b565b9050818103602083015261373e818461321b565b90509392505050565b600060208201905061375c60008301846132d7565b92915050565b600060208201905061377760008301846132e6565b92915050565b6000602082019050613792600083018461332e565b92915050565b600060208201905081810360008301526137b2818461333d565b905092915050565b600060208201905081810360008301526137d381613376565b9050919050565b600060208201905081810360008301526137f381613399565b9050919050565b60006020820190508181036000830152613813816133bc565b9050919050565b60006020820190508181036000830152613833816133df565b9050919050565b6000602082019050818103600083015261385381613402565b9050919050565b6000602082019050818103600083015261387381613425565b9050919050565b6000602082019050818103600083015261389381613448565b9050919050565b600060208201905081810360008301526138b38161346b565b9050919050565b600060208201905081810360008301526138d38161348e565b9050919050565b600060208201905081810360008301526138f3816134b1565b9050919050565b60006020820190508181036000830152613913816134d4565b9050919050565b60006020820190508181036000830152613933816134f7565b9050919050565b600060208201905081810360008301526139538161351a565b9050919050565b600060208201905081810360008301526139738161353d565b9050919050565b6000602082019050818103600083015261399381613560565b9050919050565b60006020820190506139af6000830184613592565b92915050565b60006040820190506139ca6000830185613592565b81810360208301526139dc818461321b565b90509392505050565b60006040820190506139fa6000830185613592565b613a076020830184613592565b9392505050565b6000606082019050613a236000830186613592565b613a306020830185613592565b8181036040830152613a42818461321b565b9050949350505050565b6000613a56613a67565b9050613a628282613d60565b919050565b6000604051905090565b600067ffffffffffffffff821115613a8c57613a8b613e42565b5b602082029050602081019050919050565b600067ffffffffffffffff821115613ab857613ab7613e42565b5b602082029050602081019050919050565b600067ffffffffffffffff821115613ae457613ae3613e42565b5b613aed82613e93565b9050602081019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b6000613b8182613cbe565b9150613b8c83613cbe565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115613bc157613bc0613de4565b5b828201905092915050565b6000613bd782613cbe565b9150613be283613cbe565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0483118215151615613c1b57613c1a613de4565b5b828202905092915050565b6000613c3182613c9e565b9050919050565b60008115159050919050565b6000819050919050565b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b6000613c8582613c26565b9050919050565b6000613c9782613c26565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6000613cd382613cda565b9050919050565b6000613ce582613c9e565b9050919050565b82818337600083830152505050565b60005b83811015613d19578082015181840152602081019050613cfe565b83811115613d28576000848401525b50505050565b60006002820490506001821680613d4657607f821691505b60208210811415613d5a57613d59613e13565b5b50919050565b613d6982613e93565b810181811067ffffffffffffffff82111715613d8857613d87613e42565b5b80604052505050565b6000613d9c82613cbe565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415613dcf57613dce613de4565b5b600182019050919050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600060033d1115613e905760046000803e613e8d600051613ea4565b90505b90565b6000601f19601f8301169050919050565b60008160e01c9050919050565b7f455243313135353a207472616e7366657220746f206e6f6e204552433131353560008201527f526563656976657220696d706c656d656e746572000000000000000000000000602082015250565b7f455243313135353a204552433131353552656365697665722072656a6563746560008201527f6420746f6b656e73000000000000000000000000000000000000000000000000602082015250565b7f476174657761792f656e64706f696e742d676174657761792d616c726561647960008201527f2d73657400000000000000000000000000000000000000000000000000000000602082015250565b7f455243313135353a2062616c616e636520717565727920666f7220746865207a60008201527f65726f2061646472657373000000000000000000000000000000000000000000602082015250565b7f596f752063616e206e6f742061636365737320746f207468617420656c656d6560008201527f6e74000000000000000000000000000000000000000000000000000000000000602082015250565b7f476174657761792f756e617574686f72697a6564000000000000000000000000600082015250565b7f455243313135353a2063616c6c6572206973206e6f74206f776e6572206e6f7260008201527f20617070726f7665640000000000000000000000000000000000000000000000602082015250565b7f455243313135353a207472616e7366657220746f20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b7f455243313135353a207472616e736665722063616c6c6572206973206e6f742060008201527f6f776e6572206e6f7220617070726f7665640000000000000000000000000000602082015250565b7f455243313135353a20696e73756666696369656e742062616c616e636520666f60008201527f72207472616e7366657200000000000000000000000000000000000000000000602082015250565b7f5468652053697a65206f6620617272617920746f6b656e494420616e6420617260008201527f72617920616d6f756e74732073686f756c64206265207468652073616d650000602082015250565b7f455243313135353a2073657474696e6720617070726f76616c2073746174757360008201527f20666f722073656c660000000000000000000000000000000000000000000000602082015250565b7f455243313135353a206163636f756e747320616e6420696473206c656e67746860008201527f206d69736d617463680000000000000000000000000000000000000000000000602082015250565b7f455243313135353a2069647320616e6420616d6f756e7473206c656e6774682060008201527f6d69736d61746368000000000000000000000000000000000000000000000000602082015250565b7f455243313135353a206d696e7420746f20746865207a65726f2061646472657360008201527f7300000000000000000000000000000000000000000000000000000000000000602082015250565b600060443d101561433c576143bf565b614344613a67565b60043d036004823e80513d602482011167ffffffffffffffff8211171561436c5750506143bf565b808201805167ffffffffffffffff81111561438a57505050506143bf565b80602083010160043d0385018111156143a75750505050506143bf565b6143b682602001850186613d60565b82955050505050505b90565b6143cb81613c26565b81146143d657600080fd5b50565b6143e281613c38565b81146143ed57600080fd5b50565b6143f981613c44565b811461440457600080fd5b50565b61441081613c4e565b811461441b57600080fd5b50565b61442781613c7a565b811461443257600080fd5b50565b61443e81613c8c565b811461444957600080fd5b50565b61445581613cbe565b811461446057600080fd5b5056fea2646970667358221220f27904a78fcaf89243d90280fed767b28001370ca6d134efe3129d618240802e64736f6c63430008040033";

import {
  getCreate2Address,
  isDeployed,
} from '../src/index'


async function main() {

  const salt = 123458;

  const computedAddr = getCreate2Address({
    salt,
    contractBytecode: gatewayBytecode,
    constructorTypes: ['address', 'address'],
    constructorArgs: [L1_STARKNET_CORE, '0x2938357e4Be62d58139Da4024E55eB17F85d5a60'],
  });

  console.log(computedAddr);
  console.log(await isDeployed(computedAddr, ethers.provider)); // false (not deployed on-chain)
}

// We recommend this pattern to be able to use async/await everywhere
// and properly handle errors.
main().catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
